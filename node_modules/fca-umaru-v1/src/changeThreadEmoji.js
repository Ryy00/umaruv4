const e=require("../utils"),t=require("npmlog");module.exports=function(r,o,n){return function(o,i,c){let a=function(){},h=function(){};const s=new Promise((function(e,t){a=e,h=t}));return c||(c=function(e){if(e)return h(e);a()}),r.post("https://www.facebook.com/messaging/save_thread_emoji/?source=thread_settings&__pc=EXP1%3Amessengerdotcom_pkg",n.jar,{emoji_choice:o,thread_or_other_fbid:i}).then(e.parseAndCheckLogin(n,r)).then((function(e){if(1357031===e.error)throw{error:"Trying to change emoji of a chat that doesn't exist. Have at least one message in the thread before trying to change the emoji."};if(e.error)throw e;return c()})).catch((function(e){return t.error("changeThreadEmoji",e),c(e)})),s}};