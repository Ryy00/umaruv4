const n=require("../utils"),t=require("npmlog");module.exports=function(e,o,r){return function(o,u,c,i,l){let f=function(){},g=function(){};const p=new Promise((function(n,t){f=n,g=t}));return"Function"!=n.getType(u)&&"AsyncFunction"!=n.getType(u)||(i=u,u={}),"Function"!=n.getType(c)&&"AsyncFunction"!=n.getType(c)||(i=c,c={}),c=c||{},i=i||function(n,t){if(n)return g(n);f(t)},l?n.get(o,r.jar,u,r.globalOptions,r,c).then((function(n){i(null,n.body)})).catch((function(n){return t.error("httpGet",n),i(n)})):e.get(o,r.jar,u,null,c).then((function(n){i(null,n.body)})).catch((function(n){return t.error("httpGet",n),i(n)})),p}};