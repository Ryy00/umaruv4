const t=require("../utils"),n=require("npmlog");module.exports=function(e,o,r){return function(o,i,c,u){let s=function(){},a=function(){};const l=new Promise((function(t,n){s=t,a=n}));u||("Function"==t.getType(c)?(u=c,c=null):u=function(t){if(t)return a(t);s()}),c||(c={});const p={target_id:i,question_text:o};let f=0;for(const t in c)c.hasOwnProperty(t)&&(p["option_text_array["+f+"]"]=t,p["option_is_selected_array["+f+"]"]=c[t]?"1":"0",f++);return e.post("https://www.facebook.com/messaging/group_polling/create_poll/?dpr=1",r.jar,p).then(t.parseAndCheckLogin(r,e)).then((function(t){if("success"!=t.payload.status)throw t;return u()})).catch((function(t){return n.error("createPoll",t),u(t)})),l}};