const e=require("../utils"),a=require("npmlog");module.exports=function(r,t,c){return function(t,n,s,o){let i=function(){},u=function(){};const h=new Promise((function(e,a){i=e,u=a}));switch(s||(s=function(e,a){if(e)return u(e);i(a)}),t){case"ğŸ˜":case"ğŸ˜†":case"ğŸ˜®":case"ğŸ˜¢":case"ğŸ˜ ":case"ğŸ‘":case"ğŸ‘":case"â¤":case"ğŸ’—":case"":break;case":heart_eyes:":case":love:":t="ğŸ˜";break;case":laughing:":case":haha:":t="ğŸ˜†";break;case":open_mouth:":case":wow:":t="ğŸ˜®";break;case":cry:":case":sad:":t="ğŸ˜¢";break;case":angry:":t="ğŸ˜ ";break;case":thumbsup:":case":like:":t="ğŸ‘";break;case":thumbsdown:":case":dislike:":t="ğŸ‘";break;case":heart:":t="â¤";break;case":glowingheart:":t="ğŸ’—";break;default:if(o)break;return s({error:"Reaction is not a valid emoji."})}const b={data:{client_mutation_id:c.clientMutationId++,actor_id:c.i_userID||c.userID,action:""==t?"REMOVE_REACTION":"ADD_REACTION",message_id:n,reaction:t}},l={doc_id:"1491398900900362",variables:JSON.stringify(b),dpr:1};return r.postFormData("https://www.facebook.com/webgraphql/mutation/",c.jar,{},l).then(e.parseAndCheckLogin(c.jar,r)).then((function(e){if(!e)throw{error:"setReaction returned empty object."};if(e.error)throw e;s(null)})).catch((function(e){return a.error("setReaction",e),s(e)})),h}};