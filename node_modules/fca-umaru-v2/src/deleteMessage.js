const e=require("../utils"),n=require("npmlog");module.exports=function(r,t,o){return function(t,c){let u=function(){},i=function(){};const s=new Promise((function(e,n){u=e,i=n}));c||(c=function(e){if(e)return i(e);u()});const f={client:"mercury"};"Array"!==e.getType(t)&&(t=[t]);for(let e=0;e<t.length;e++)f["message_ids["+e+"]"]=t[e];return r.post("https://www.facebook.com/ajax/mercury/delete_messages.php",o.jar,f).then(e.parseAndCheckLogin(o,r)).then((function(e){if(e.error)throw e;return c()})).catch((function(e){return n.error("deleteMessage",e),c(e)})),s}};