const n=require("../utils"),t=require("npmlog");module.exports=function(e,o,u){return function(o,r,c,i,l){let f=function(){},p=function(){};const g=new Promise((function(n,t){f=n,p=t}));return"Function"!=n.getType(r)&&"AsyncFunction"!=n.getType(r)||(i=r,r={}),"Function"!=n.getType(c)&&"AsyncFunction"!=n.getType(c)||(i=c,c={}),c=c||{},i=i||function(n,t){if(n)return p(n);f(t)},l?n.get(o,u.jar,r,u.globalOptions,u,c).then((function(n){i(null,n.body)})).catch((function(n){return t.error("httpGet",n),i(n)})):e.get(o,u.jar,r,null,c).then((function(n){i(null,n.body)})).catch((function(n){return t.error("httpGet",n),i(n)})),g}};